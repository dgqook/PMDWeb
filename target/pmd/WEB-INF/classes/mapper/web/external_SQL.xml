<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="external">
	<resultMap id="contactVO"  type="pmd.common.vo.ContactInfoVO">
		<result property="name" column="NAME"/>
		<result property="pnum" column="PNUM"/>
		<result property="unum" column="UNUM"/>
		<result property="pkey" column="PKEY"/>
		
	</resultMap>
	     
     <!-- 연락처 등록 -->
    <insert id="registerContact" parameterType="hashmap">
        <![CDATA[
            INSERT INTO CONTACT_INFO(NAME, PNUM, UNUM, PKEY)            	
            VALUES(#{name},#{pnum},#{unum},#{pkey})
        ]]>
    </insert>
    
     <!-- 연락처 삭제 -->
    <delete id="removeContact" parameterType="hashmap">
        <![CDATA[
            DELETE FROM CONTACT_INFO            	
            WHERE NAME=#{name} AND PNUM=#{pnum} AND UNUM=#{unum} AND PKEY=#{pkey}
        ]]>
    </delete>
    
    <select id="selectContactList" parameterType="hashmap" resultMap="contactVO">
        <![CDATA[
        	SELECT NAME, PNUM, UNUM, PKEY FROM CONTACT_INFO WHERE UNUM=#{unum} AND PKEY=#{pkey}
        ]]>
    </select>
    
</mapper>